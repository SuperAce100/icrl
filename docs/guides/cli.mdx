---
title: "CLI"
description: "Run tasks, chat with the agent, and manage your trajectory database from the command line"
---

The `icrl` CLI lets you run coding tasks, start interactive chat sessions, and manage your trajectory databaseâ€”all from the terminal.

## Quick start

```bash
# Run a single task
icrl run "add error handling to the API endpoints"

# Start an interactive chat session
icrl chat
```

<Tip>
If `icrl` isn't on your PATH, you can run it as a module: `python -m icrl.cli.main`
</Tip>

## Commands

### `icrl run <goal>`

Run a single coding task.

```bash
icrl run "refactor this repo to use ruff" [OPTIONS]
```

| Option | Description |
|--------|-------------|
| `-m, --model` | Override the model (e.g., `gpt-4o`, `claude-sonnet-4-20250514`) |
| `-d, --dir` | Working directory (defaults to current) |
| `--no-train` | Don't save the trajectory to the database |
| `-v, --verbose` | Show detailed thinking and tool output |

The agent executes tools (file operations, shell commands, web search) to accomplish your goal. Successful runs are stored in the trajectory database for future reference.

### `icrl chat` / `icrl tui`

Start an interactive multi-turn chat session.

```bash
icrl chat [--model MODEL] [--dir PATH]
```

The agent maintains conversation context across turns, remembering previous tool outputs and your requests.

<AccordionGroup>
  <Accordion title="Multi-turn example">
    ```
    >> Create a Python file with a greeting function
    [agent creates hello.py]

    >> Now add a main block that calls it
    [agent remembers the file and updates it]

    >> /clear
    Conversation cleared.
    ```
  </Accordion>
  
  <Accordion title="Chat commands">
    | Command | Description |
    |---------|-------------|
    | `/clear` | Reset conversation history |
    | `exit`, `quit`, `q` | Exit the session |
  </Accordion>
</AccordionGroup>

### `icrl config`

Manage your configuration settings.

```bash
# Show current settings
icrl config show

# Set a value
icrl config set model gpt-4o-mini
icrl config set max_steps 50

# Reset to defaults
icrl config reset
```

<Note>
Configuration is stored in a JSON file in your user config directory. Run `icrl config show` to see the file location.
</Note>

**Available settings:**

| Setting | Description |
|---------|-------------|
| `model` | Default LLM model |
| `temperature` | Sampling temperature |
| `max_tokens` | Maximum tokens per response |
| `max_steps` | Maximum steps per task |
| `k` | Number of examples to retrieve |
| `db_path` | Trajectory database location |

### `icrl db`

Manage the trajectory database where successful runs are stored.

```bash
# View statistics
icrl db stats

# List recent trajectories
icrl db list

# Search for similar trajectories
icrl db search "fix tests"

# Show a specific trajectory
icrl db show <id>

# Clear all trajectories
icrl db clear
```

<Warning>
`icrl db clear` permanently deletes all stored trajectories. Use `--force` to skip confirmation.
</Warning>

## Shell completion

Enable tab completion for your shell:

```bash
icrl --install-completion
```

## Next steps

<CardGroup cols={2}>
  <Card title="Quickstart" icon="rocket" href="/quickstart">
    Build your first ICRL agent
  </Card>
  <Card title="Trajectory Database" icon="database" href="/core-concepts/trajectory-database">
    Learn how trajectories are stored and retrieved
  </Card>
</CardGroup>
